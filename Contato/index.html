<!DOCTYPE html>
<head>
    <title>Página Contato</title>
    <link href="styles.css" rel="stylesheet">
    <script src="scripts.js"></script>
</head>

<body>
    <header class="cabecalho">
    <div class="perfil">
        <img src="https://i.pinimg.com/originals/70/71/37/70713776d26d0a7102ccd8c5d9213944.jpg" id="rosto">
        <p id="nome"> Ney Messinaldo</p>
    </div>

    <button class="burger" onclick="toggleMenu()"></button>
  
    <div class="menu">
        <nav>
            <a href="https://gruporedfatec.000webhostapp.com/Trabalho1/index.html" style="animation-delay: 0.2s">Página Inicial</a>
            <a href="https://gruporedfatec.000webhostapp.com/Trabalho1/Galeria/index.html" style="animation-delay: 0.3s">Galeria</a>
            <a href="https://gruporedfatec.000webhostapp.com/Trabalho1/Contato/index.html" style="animation-delay: 0.4s">Contatos</a>
        </nav>
    </div>
    </header>
    
    <h1>Contato</h1>

    <form action="/action_page.php">
        <fieldset>
            <legend>Dados Pessoais:</legend><br>

            <div class="texto">
                <p id="texto">*Nome: </p>
                <input type="text" name="" id="text" required><br><br>
            </div>

            <div class="texto">
                <p id="texto">*Email: </p>
                <input type="text" name="" id="text" required><br><br>
            </div>

            <div class="texto">
                <p id="texto">Idade: </p>
                <input type="text" name="" id="text"><br><br>
            </div>

            <div class="texto">
                <p id="texto">*Telefone: </p>
                <input type="tel" id="phone" name="phone" pattern="([0-9]{2}) [0-9]{5}-[0-9]{4}" required><br><br>
            </div>

            <div class="data">
                <label for="DataNasc">Data de nascimento (opcional):</label>
                <input type="date" id="DataNasc" name="DataNasc"><br><br><br>
            </div>  
            
            
            <div class="radio">
                <legend>*Informe o seu sexo:</legend><br>
                <div class="radio1">
                    <form action=""></form>
                        <label>
                            <input type="radio" id="Masculino" name="radio">
                            <span>Masculino</span>
                        </label>
                        <label>
                            <input type="radio" id="Feminino" name="radio">
                            <span>Feminino</span>
                        </label>
                        <label>
                            <input type="radio" id="nãoespec" name="radio">
                            <span>Prefiro não especificar</span>
                        </label>
                    </form><br>
                </div>
            </div><br>
            
            <div class="radio2">
                <legend>*Estado Civíl:</legend><br>
                <div class="radio3">
                    <form action="">
                        <label>
                            <input type="radio" id="Solteiro" name="radio">
                            <span>Solteiro(a)</span>
                        </label>
                        <label>
                            <input type="radio" id="Casado" name="radio">
                            <span>Casado(a)</span>
                        </label>
                        <label>
                            <input type="radio" id="União estável" name="radio">
                            <span>União estável</span>
                        </label>
                        <label>
                            <input type="radio" id="Divorciado" name="radio">
                            <span>Divorciado(a)</span>
                        </label>
                        <label>
                            <input type="radio" id="Viúvo" name="radio">
                            <span>Viúvo(a)</span>
                        </label>
                        <label>
                            <input type="radio" id="nãoespec" name="radio">
                            <span>Prefiro não especificar</span>
                        </label>
                    </form><br>
                </div>
            </div>
        </fieldset>

        <fieldset>
            <legend>Dados da empresa:</legend><br>

            <div class="texto">
                <p id="texto">CNPJ (opcional): </p>
                <input type="text" name="" id="text" required><br><br>
            </div>

            <div class="texto">
                <p id="texto">Razão Social (opcional): </p>
                <input type="text" name="" id="text" required><br><br>
            </div>

            <div class="texto">
                <p id="texto">Ramo de atuação (opcional): </p>
                <input type="text" name="" id="text" required><br><br>
            </div>
        </fieldset>

        <fieldset>
                <legend>Endereço:</legend><br>

                <div class="texto">
                    <p id="texto">*CEP: </p>
                    <input type="text" name="" id="text" placeholder="xxxxx-xxx" required><br><br>
                </div>
                
                <div class="texto">
                    <p id="idiomas">*Logradouro: </p>
                    <input type="text" name="" id="text" required><br>
                </div>

                <div class="texto">
                    <p id="idiomas">*Cidade: </p>
                    <input type="text" name="" id="text" required><br>
                </div>

                <div class="Selecione">
                    <p>*Estado:</p>
                        <div class="select">
                            <select class="select1" required>
                                <option value="">Selecione</option>
                                <option value="acre">Acre</option>
                                <option value="alagoas">Alagoas</option>
                                <option value="amapa">Amapá</option>
                                <option value="amazonas">Amazonas</option>
                                <option value="bahia">Bahia</option>
                                <option value="ceara">Ceará</option>
                                <option value="distritofederal">Distrito Federal</option>
                                <option value="espiritosanto">Espírito Santo</option>
                                <option value="goias">Goiás</option>
                                <option value="maranhao">Maranhão</option>
                                <option value="matogrosso">Mato Grosso</option>
                                <option value="matogrossosul">Mato Grosso do Sul</option>
                                <option value="minasgerais">Minas Gerais</option>
                                <option value="para">Pará</option>
                                <option value="paraiba">Paraíba</option>
                                <option value="parana">Paraná</option>
                                <option value="pernambuco">Pernambuco</option>
                                <option value="piaui">Piauí</option>
                                <option value="riojaneiro">Rio de Janeiro</option>
                                <option value="rionorte">Rio Grande do Norte</option>
                                <option value="riosul">Rio Grande do Sul</option>
                                <option value="rondonia">Rondônia</option>
                                <option value="roraima">Roraima</option>
                                <option value="sc">Santa Catarina</option>
                                <option value="sp">São Paulo</option>
                                <option value="se">Sergipe</option>
                                <option value="to">Tocantins</option>
                            </select><br><br>
                            <div class="icone-content">
                                <img src="angle-down.svg"></img>
                            </div>
                        </div>
                </div>
        </fieldset>

        <fieldset>
            <legend>Idiomas:</legend><br>
            <div class="conteudo df-c">
                <div>    
                    <div class="checkbox_conteudo df-c">
                        <div class="checkbox_botão">
                            <input type="checkbox" name="" id="checkbox">
                            <div class="opção"><p>Português</p></div>
                        </div>

                        <div class="checkbox_botão">
                            <input type="checkbox" name="" id="checkbox">
                            <div class="opção"><p>Inglês</p></div>
                        </div>
        
                        <div class="checkbox_botão">
                            <input type="checkbox" name="" id="checkbox">
                            <div class="opção"><p>Espanhol</p></div>
                        </div>
        
                        <div class="checkbox_botão">
                            <input type="checkbox" name="" id="checkbox">
                            <div class="opção"><p>Francês</p></div>
                        </div>

                        <div class="checkbox_botão1">
                            <input type="checkbox" name="" id="checkbox">
                            <div class="opção opção1">
                                <p>Outros, se sim informe:</p>
                                <input type="text" name="" id="text"></div>
                        </div>
                        
                        <div class="checkbox_botão">
                            <input type="checkbox" name="" id="checkbox">
                            <div class="opção"><p>Não possuo</p></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

            <br><br>
            <div class="radio">
                <legend>Modelo de trabalho:</legend><br>
                <div class="radio1">
                        <label>
                            <input type="radio" id="Presencial" name="radio">
                            <span>Presencial</span>
                        </label>
                        <label>
                            <input type="radio" id="Híbrido" name="radio">
                            <span>Híbrido</span>
                        </label>
                        <label>
                            <input type="radio" id="Home Office" name="radio">
                            <span>Home Office</span>
                        </label><br>
                </div>
            </div>
        </fieldset>

        <fieldset>
            <legend>Complemento:</legend>

            <label for="texto"></label>
            <textarea id="texto" name="texto" rows="6" cols="50" placeholder="Descreva o interesse."></textarea><br><br>

            <button class="btn" onclick="validaform()">
                Enviar as informações
            </button><br><br>
            <h6>* campos obrigatórios</h6>
        </fieldset>

    </form>

    <script type="text/javascript">
        const toggleMenu = () => document.body.classList.toggle("open");
    </script>

    <script>
        const addressForm = document.querySelector("#address-form");
const cepInput = document.querySelector("#cep");
const addressInput = document.querySelector("#address");
const cityInput = document.querySelector("#city");
const neighborhoodInput = document.querySelector("#neighborhood");
const regionInput = document.querySelector("#region");
const formInputs = document.querySelectorAll("[data-input]");

const closeButton = document.querySelector("#close-message");

// Validate CEP Input
cepInput.addEventListener("keypress", (e) => {
  const onlyNumbers = /[0-9]|\./;
  const key = String.fromCharCode(e.keyCode);

  console.log(key);

  console.log(onlyNumbers.test(key));

  // allow only numbers
  if (!onlyNumbers.test(key)) {
    e.preventDefault();
    return;
  }
});

// Evento to get address
cepInput.addEventListener("keyup", (e) => {
  const inputValue = e.target.value;

  //   Check if we have a CEP
  if (inputValue.length === 8) {
    getAddress(inputValue);
  }
});

// Get address from API
const getAddress = async (cep) => {
  toggleLoader();

  cepInput.blur();

  const apiUrl = `https://viacep.com.br/ws/${cep}/json/`;

  const response = await fetch(apiUrl);

  const data = await response.json();

  console.log(data);
  console.log(formInputs);
  console.log(data.erro);

  // Show error and reset form
  if (data.erro === "true") {
    if (!addressInput.hasAttribute("disabled")) {
      toggleDisabled();
    }

    addressForm.reset();
    toggleLoader();
    toggleMessage("CEP Inválido, tente novamente.");
    return;
  }

  // Activate disabled attribute if form is empty
  if (addressInput.value === "") {
    toggleDisabled();
  }

  addressInput.value = data.logradouro;
  cityInput.value = data.localidade;
  neighborhoodInput.value = data.bairro;
  regionInput.value = data.uf;

  toggleLoader();
};

// Add or remove disable attribute
const toggleDisabled = () => {
  if (regionInput.hasAttribute("disabled")) {
    formInputs.forEach((input) => {
      input.removeAttribute("disabled");
    });
  } else {
    formInputs.forEach((input) => {
      input.setAttribute("disabled", "disabled");
    });
  }
};

// Show or hide loader
const toggleLoader = () => {
  const fadeElement = document.querySelector("#fade");
  const loaderElement = document.querySelector("#loader");

  fadeElement.classList.toggle("hide");
  loaderElement.classList.toggle("hide");
};

// Show or hide message
const toggleMessage = (msg) => {
  const fadeElement = document.querySelector("#fade");
  const messageElement = document.querySelector("#message");

  const messageTextElement = document.querySelector("#message p");

  messageTextElement.innerText = msg;

  fadeElement.classList.toggle("hide");
  messageElement.classList.toggle("hide");
};

// Close message modal
closeButton.addEventListener("click", () => toggleMessage());

// Save address
addressForm.addEventListener("submit", (e) => {
  e.preventDefault();

  toggleLoader();

  setTimeout(() => {
    toggleLoader();

    toggleMessage("Endereço salvo com sucesso!");

    addressForm.reset();

    toggleDisabled();
  }, 1000);
});
    </script>

    <script>

        const form = document.querySelector('form');

        form.addEventListener('submit', (event) => {
        const requiredFields = form.querySelectorAll('[required]');
        
        let allFieldsFilled = true;
        requiredFields.forEach((field) => {
        
            if (field.value === '') {
            allFieldsFilled = false;
            }
            });

            if (!allFieldsFilled) {
                event.preventDefault();
                alert('Por favor, preencha todos os campos obrigatórios.');
            }
            });

    </script>


</body>